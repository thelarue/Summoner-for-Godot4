[gd_scene load_steps=17 format=3 uid="uid://vwh0gq0mfh3r"]

[ext_resource type="Script" path="res://scripts/Scenes/starting_room.gd" id="1_omxgt"]
[ext_resource type="TileSet" uid="uid://cwawrx7nc1kem" path="res://resources/dungeon_tileset.tres" id="2_nl5yg"]
[ext_resource type="Texture2D" uid="uid://bgdj5cdkhs7lp" path="res://assets/tilesets and props/dungeon/bloody tiles/pile_of_bodies_a.png" id="2_u3c1x"]
[ext_resource type="PackedScene" uid="uid://c1wvck77p2qhf" path="res://scenes/utils/GatewayDropPoint.tscn" id="3_jfwwr"]
[ext_resource type="PackedScene" uid="uid://b4wt2g8rql0il" path="res://scenes/level 1/bronze_key_door.tscn" id="4_0n3nh"]
[ext_resource type="Texture2D" uid="uid://bskf3lhw7lseu" path="res://assets/characters/common_cultist.png" id="7_pqbjn"]
[ext_resource type="PackedScene" uid="uid://j1m8tcycfheg" path="res://scenes/level 1/blood_door_puzzle.tscn" id="7_tvqre"]
[ext_resource type="PackedScene" uid="uid://sm68adercw2r" path="res://scenes/Summons/summoning_circle.tscn" id="8_4m1ma"]
[ext_resource type="Texture2D" uid="uid://c2lvawsajnx1q" path="res://assets/tilesets and props/props/barrel.png" id="8_aaa5a"]
[ext_resource type="PackedScene" uid="uid://dga7wbow6g13l" path="res://player.tscn" id="9_0qvy3"]
[ext_resource type="Texture2D" uid="uid://qsvxyhf7culp" path="res://assets/dagger.png" id="9_5w0sq"]
[ext_resource type="PackedScene" uid="uid://ct2ynfxi4ullm" path="res://scenes/Inventory/crate.tscn" id="12_hy8m1"]

[sub_resource type="AtlasTexture" id="AtlasTexture_8vyhm"]
atlas = ExtResource("7_pqbjn")
region = Rect2(0, 0, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_1i3jf"]
atlas = ExtResource("7_pqbjn")
region = Rect2(64, 128, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_as1eo"]
atlas = ExtResource("7_pqbjn")
region = Rect2(0, 64, 64, 64)

[sub_resource type="SpriteFrames" id="SpriteFrames_5efoi"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_8vyhm")
}],
"loop": true,
"name": &"default",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_1i3jf")
}],
"loop": true,
"name": &"left",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_as1eo")
}],
"loop": true,
"name": &"right",
"speed": 5.0
}]

[node name="starting room" type="Node2D"]
script = ExtResource("1_omxgt")

[node name="TileMap" type="TileMap" parent="."]
position = Vector2(-726, -1175)
scale = Vector2(2, 2)
tile_set = ExtResource("2_nl5yg")
format = 2
layer_0/name = "0"
layer_0/tile_data = PackedInt32Array(2424862, 655364, 13, 2490398, 655364, 14, 2424861, 655364, 13, 2490397, 655364, 14, 2424866, 655364, 13, 2490402, 655364, 14, 2424867, 655364, 13, 2490403, 655364, 14, 2424868, 655364, 13, 2490404, 655364, 14, 2424869, 655364, 13, 2490405, 655364, 14, 2424860, 655364, 13, 2490396, 655364, 14, 2424859, 655364, 13, 2490395, 655364, 14, 3604505, 524290, 17, 3604506, 589826, 17, 3538971, 655364, 16, 3604507, 655364, 17, 3538972, 655364, 16, 3604508, 655364, 17, 3538973, 655364, 16, 3604509, 655364, 17, 3538974, 655364, 16, 3604510, 655364, 17, 3538975, 655364, 16, 3604511, 655364, 17, 3538976, 655364, 16, 3604512, 655364, 17, 3538977, 655364, 16, 3604513, 655364, 17, 3538978, 655364, 16, 3604514, 655364, 17, 3538979, 655364, 16, 3604515, 655364, 17, 3538980, 655364, 16, 3604516, 655364, 17, 3538981, 655364, 16, 3604517, 655364, 17, 2687007, 65538, 31, 2687008, 65538, 31, 2555935, 131072, 6, 2555936, 131072, 5, 2752544, 65538, 31, 2752543, 65538, 31, 2752542, 65538, 31, 3473438, 262147, 2, 3407902, 262147, 1, 3342366, 262147, 0, 3276830, 65539, 1, 3211294, 65539, 0, 3145758, 262147, 2, 3080222, 262147, 1, 3014686, 262147, 0, 2949150, 65538, 31, 2883614, 65538, 31, 2818078, 65538, 31, 2818079, 65538, 31, 2883615, 65538, 31, 2949151, 65538, 31, 3014687, 3, 2, 3080223, 65539, 1, 3145759, 65539, 1, 3211295, 65539, 1, 3276831, 65539, 1, 3276832, 262147, 2, 3211296, 262147, 1, 3145760, 262147, 0, 3080224, 65538, 31, 3014688, 458755, 6, 2949152, 458755, 5, 2883616, 65538, 31, 2818080, 65538, 31, 2621472, 0, 805306370, 2621471, 0, 805306370, 2555931, 65538, 31, 2621467, 65538, 31, 2687003, 65538, 31, 2752539, 65538, 31, 2818075, 65538, 31, 2883611, 458752, 805306375, 3407899, 65539, 1, 3473435, 327682, 32, 2555932, 65538, 31, 2621468, 65538, 31, 2687004, 65538, 31, 2752540, 65538, 31, 2818076, 65538, 31, 2883612, 393216, 805306375, 3407900, 131075, 1, 3473436, 131075, 2, 2752541, 65538, 31, 2818077, 65538, 31, 2883613, 65538, 31, 2949149, 65538, 31, 3014685, 196611, 0, 3080221, 196611, 1, 3145757, 65538, 32, 3211293, 196611, 0, 3276829, 196611, 1, 3342365, 196611, 0, 3407901, 65538, 33, 3473437, 196611, 2, 2424857, 524292, 13, 2490393, 524292, 14, 3538969, 524290, 16, 2424858, 589828, 13, 2490394, 589828, 14, 3538970, 589826, 16, 2555937, 196608, 6, 2621473, 0, 805306370, 2687009, 65538, 31, 2752545, 65538, 31, 2818081, 65538, 31, 2883617, 65538, 31, 2949153, 524291, 5, 3014689, 524291, 6, 3080225, 65538, 31, 3145761, 65538, 31, 3211297, 65538, 31, 3276833, 65538, 31, 2555929, 524292, 15, 2621465, 524292, 15, 2687001, 524292, 15, 2752537, 524292, 15, 2818073, 524292, 15, 2883609, 524292, 15, 2949145, 524292, 15, 3014681, 524292, 15, 3080217, 524292, 15, 3145753, 524292, 15, 3276825, 524290, 15, 3342361, 524290, 15, 3407897, 524292, 15, 3473433, 524292, 15, 2555930, 589828, 15, 2621466, 589828, 15, 2687002, 589828, 15, 2752538, 589828, 15, 2818074, 589828, 15, 2883610, 589828, 15, 3014682, 589828, 15, 3080218, 589828, 15, 3145754, 589828, 15, 3211290, 589826, 15, 3342362, 589826, 15, 3473434, 589828, 15, 3080228, 262147, 3, 3014692, 262147, 3, 2949156, 262147, 3, 2883620, 262147, 3, 2818084, 589827, 2, 2752548, 589827, 1, 2687012, 262147, 3, 2621476, 262147, 3, 2555940, 262147, 3, 2555939, 262147, 3, 2555938, 262147, 3, 2621474, 262147, 3, 2687010, 262147, 3, 2883618, 262147, 3, 2949154, 262147, 3, 3014690, 262147, 3, 3080226, 262147, 3, 3145762, 262147, 3, 3211298, 262147, 3, 3276834, 262147, 3, 3342370, 262147, 3, 3407906, 262147, 3, 3473442, 262147, 3, 3473443, 262147, 3, 3407907, 262147, 3, 3342371, 262147, 3, 3080227, 262147, 3, 3014691, 262147, 3, 2949155, 262147, 3, 2883619, 262147, 3, 2687011, 262147, 3, 2621475, 262147, 3, 3342372, 262147, 3, 3407908, 262147, 3, 3473444, 262147, 3, 3473445, 65538, 32, 3407909, 65538, 31, 3342373, 65538, 31, 2555941, 65538, 31, 2621477, 65538, 31, 2687013, 65538, 31, 2752549, 65538, 31, 2818085, 65538, 31, 2883621, 65538, 31, 2949157, 65538, 31, 3014693, 65538, 31, 3080229, 65538, 31, 2424870, 720900, 13, 2490406, 720900, 14, 2555942, 720900, 15, 2621478, 720900, 15, 2687014, 720900, 15, 2752550, 720900, 15, 2818086, 720900, 15, 2883622, 720900, 15, 2949158, 720900, 15, 3014694, 720900, 15, 3080230, 720900, 15, 3538982, 720900, 16, 3604518, 720900, 17, 2424871, 786436, 13, 2490407, 786436, 14, 2555943, 786436, 15, 2621479, 786436, 15, 2687015, 786436, 15, 2752551, 786436, 15, 2818087, 786436, 15, 2883623, 786436, 15, 2949159, 786436, 15, 3014695, 786436, 15, 3080231, 786436, 15, 3538983, 786436, 16, 3604519, 786436, 17, 3145766, 720900, 15, 3211302, 720900, 15, 3276838, 720900, 15, 3145767, 786436, 15, 3211303, 786436, 15, 3276839, 786436, 15, 2949146, 589828, 15, 3211289, 524290, 15, 3407898, 589828, 15, 3276826, 589826, 15, 3342367, 3, 3, 3407903, 3, 4, 3473439, 3, 5, 3342368, 65539, 3, 3407904, 65539, 4, 3473440, 65539, 5, 3342369, 131075, 3, 3407905, 131075, 4, 3473441, 131075, 5, 3145763, 65539, 7, 3211299, 65539, 8, 3276835, 65539, 9, 3145764, 131075, 7, 3211300, 131075, 8, 3276836, 131075, 9, 3145765, 196611, 7, 3211301, 196611, 8, 3276837, 196611, 9, 2752546, 458755, 1, 2818082, 458755, 2, 2752547, 524291, 1, 2818083, 524291, 2, 2555933, 524291, 1610612741, 2621469, 458755, 1610612741, 2687005, 393219, 1610612741, 2555934, 524291, 1610612742, 2621470, 458755, 1610612742, 2687006, 393219, 1610612742, 2949147, 458752, 805306374, 3014683, 458752, 805306373, 3080219, 458752, 805306372, 3145755, 458752, 805306371, 3211291, 458752, 805306370, 3276827, 458752, 805306369, 3342363, 458752, 805306368, 2949148, 393216, 805306374, 3014684, 393216, 805306373, 3080220, 393216, 805306372, 3145756, 393216, 805306371, 3211292, 393216, 805306370, 3276828, 393216, 805306369, 3342364, 393216, 805306368)
layer_1/name = "1"
layer_1/tile_data = PackedInt32Array()

[node name="Doors" type="Node" parent="."]

[node name="SpawnPointFromHallway" parent="Doors" instance=ExtResource("3_jfwwr")]
position = Vector2(313, 119)
door_tag = "from_hallway_1"
spawn_direction = "down"

[node name="SpawnPointFromSouthernHallway" parent="Doors" instance=ExtResource("3_jfwwr")]
position = Vector2(449, 507)
door_tag = "from_southern_hallway"
spawn_direction = "right"

[node name="BronzeKeyDoorPuzzle" parent="Doors" instance=ExtResource("4_0n3nh")]
position = Vector2(522, 505)
rotation = 1.5708
scale = Vector2(2, 2)

[node name="Door" parent="Doors/BronzeKeyDoorPuzzle" index="1"]
destination_level_tag = "southern_hallway"
destination_door_tag = "from_starting_room"

[node name="Puzzle" parent="Doors/BronzeKeyDoorPuzzle" index="4"]
offset_left = -95.0
offset_top = 74.0
offset_right = 42.0
offset_bottom = 116.0
rotation = -1.57079

[node name="BloodDoorPuzzle" parent="Doors" instance=ExtResource("7_tvqre")]
position = Vector2(314, 41)
scale = Vector2(2, 2)

[node name="Door" parent="Doors/BloodDoorPuzzle" index="2"]
position = Vector2(0.5, 11)
destination_level_tag = "hallway_1"
destination_door_tag = "from_starting_room"

[node name="CollisionShape2D" parent="Doors/BloodDoorPuzzle/Door" index="0"]
position = Vector2(0, -1.5)

[node name="Items" type="Node" parent="."]

[node name="Crate" parent="Items" instance=ExtResource("12_hy8m1")]
position = Vector2(256, 177)
item_id = "0000"
item_type = "Utils"
item_method = "ritual_knife"
item_name = "Ritual Knife"
item_texture = ExtResource("9_5w0sq")
item_effect = "Might hurt"
effect_value = 1
consumable = false

[node name="bodies" type="Sprite2D" parent="."]
modulate = Color(0.593134, 0.593134, 0.593134, 1)
position = Vector2(180, 442)
texture = ExtResource("2_u3c1x")

[node name="SummoningCircle" parent="." instance=ExtResource("8_4m1ma")]
position = Vector2(320, 287)
scale = Vector2(1.5, 1.5)

[node name="commoncultist" type="Sprite2D" parent="."]
position = Vector2(446, 276)

[node name="AnimatedSprite2D" type="AnimatedSprite2D" parent="commoncultist"]
sprite_frames = SubResource("SpriteFrames_5efoi")
animation = &"left"

[node name="Barrel" type="Sprite2D" parent="."]
position = Vector2(154, 82)
scale = Vector2(2, 2)
texture = ExtResource("8_aaa5a")
hframes = 4

[node name="Barrel2" type="Sprite2D" parent="."]
position = Vector2(173, 92)
scale = Vector2(2, 2)
texture = ExtResource("8_aaa5a")
hframes = 4

[node name="Barrel3" type="Sprite2D" parent="."]
position = Vector2(155, 104)
scale = Vector2(2, 2)
texture = ExtResource("8_aaa5a")
hframes = 4

[node name="player" parent="." instance=ExtResource("9_0qvy3")]
position = Vector2(323, 260)

[connection signal="damaged" from="player" to="Doors/BloodDoorPuzzle" method="_on_player_damaged"]

[editable path="Doors/BronzeKeyDoorPuzzle"]
[editable path="Doors/BloodDoorPuzzle"]
[editable path="Doors/BloodDoorPuzzle/Door"]
